<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pnet.Workflow package &mdash; pNet 1.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/theme_overrides.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=292eb321"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorials and Examples" href="auto_examples/index.html" />
    <link rel="prev" title="pnet.Report package" href="pnet.Report.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pNet
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="modules.html">pnet</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="pnet.html">pnet package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="pnet.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="pnet.html#module-pnet">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/index.html">Tutorials and Examples</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pNet</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="api.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="modules.html">pnet</a></li>
          <li class="breadcrumb-item"><a href="pnet.html">pnet package</a></li>
      <li class="breadcrumb-item active">pnet.Workflow package</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pnet-workflow-package">
<h1>pnet.Workflow package<a class="headerlink" href="#pnet-workflow-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="pnet-workflow-workflow-cluster-template-module">
<h2>pnet.Workflow.Workflow_Cluster_Template module<a class="headerlink" href="#pnet-workflow-workflow-cluster-template-module" title="Link to this heading"></a></h2>
</section>
<section id="module-pnet.Workflow.Workflow_Func">
<span id="pnet-workflow-workflow-func-module"></span><h2>pnet.Workflow.Workflow_Func module<a class="headerlink" href="#module-pnet.Workflow.Workflow_Func" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pnet.Workflow.Workflow_Func.guide_YN">
<span class="sig-prename descclassname"><span class="pre">pnet.Workflow.Workflow_Func.</span></span><span class="sig-name descname"><span class="pre">guide_YN</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Y'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pnet/Workflow/Workflow_Func.html#guide_YN"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pnet.Workflow.Workflow_Func.guide_YN" title="Link to this definition"></a></dt>
<dd><p>terminal guidance for choosing yes or no
Users can type Y, y, Yes, yes, N, n, No, or no</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prompt</strong> – a string for prompt</p></li>
<li><p><strong>skip</strong> – False or True to skip the setting</p></li>
<li><p><strong>default_value</strong> – a default value when skip is enabled</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>input_YN, ‘Y’ or ‘N’</p>
</dd>
</dl>
<p>Yuncong Ma, 10/5/2023</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pnet.Workflow.Workflow_Func.guide_choice">
<span class="sig-prename descclassname"><span class="pre">pnet.Workflow.Workflow_Func.</span></span><span class="sig-name descname"><span class="pre">guide_choice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_choice</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pnet/Workflow/Workflow_Func.html#guide_choice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pnet.Workflow.Workflow_Func.guide_choice" title="Link to this definition"></a></dt>
<dd><p>Terminal guidance for getting a directory
Use sequence ratio to find the most similar option in the list_choice to the user input</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prompt</strong> – a string for prompt</p></li>
<li><p><strong>list_choice</strong> – a list of choices</p></li>
<li><p><strong>skip</strong> – False or True to skip the setting</p></li>
<li><p><strong>default_value</strong> – None or value</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>choice</p>
</dd>
</dl>
<p>Yuncong Ma, 10/5/2023</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pnet.Workflow.Workflow_Func.guide_dir">
<span class="sig-prename descclassname"><span class="pre">pnet.Workflow.Workflow_Func.</span></span><span class="sig-name descname"><span class="pre">guide_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pnet/Workflow/Workflow_Func.html#guide_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pnet.Workflow.Workflow_Func.guide_dir" title="Link to this definition"></a></dt>
<dd><p>terminal guidance for getting a directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prompt</strong> – a string for prompt</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>input_dir</p>
</dd>
</dl>
<p>Yuncong Ma, 10/5/2023</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pnet.Workflow.Workflow_Func.guide_file">
<span class="sig-prename descclassname"><span class="pre">pnet.Workflow.Workflow_Func.</span></span><span class="sig-name descname"><span class="pre">guide_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">existed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pnet/Workflow/Workflow_Func.html#guide_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pnet.Workflow.Workflow_Func.guide_file" title="Link to this definition"></a></dt>
<dd><p>terminal guidance for setting up an existing or a new file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prompt</strong> – a string for prompt</p></li>
<li><p><strong>existed</strong> – True or False, check the existence of the file if True.</p></li>
<li><p><strong>extension</strong> – None or a str, or a tuple of strings, specifying the file extension</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>input_file</p>
</dd>
</dl>
<p>Yuncong Ma, 10/5/2023</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pnet.Workflow.Workflow_Func.guide_number">
<span class="sig-prename descclassname"><span class="pre">pnet.Workflow.Workflow_Func.</span></span><span class="sig-name descname"><span class="pre">guide_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Int'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pnet/Workflow/Workflow_Func.html#guide_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pnet.Workflow.Workflow_Func.guide_number" title="Link to this definition"></a></dt>
<dd><p>terminal guidance for setting up a value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prompt</strong> – a string for prompt</p></li>
<li><p><strong>data_type</strong> – ‘Int’ or ‘Float’</p></li>
<li><p><strong>data_range</strong> – None or (1, 2)</p></li>
<li><p><strong>skip</strong> – False or True to skip the setting</p></li>
<li><p><strong>default_value</strong> – a default value when skip is enabled</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>input_value</p>
</dd>
</dl>
<p>Yuncong Ma, 10/5/2023</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pnet.Workflow.Workflow_Func.workflow">
<span class="sig-prename descclassname"><span class="pre">pnet.Workflow.Workflow_Func.</span></span><span class="sig-name descname"><span class="pre">workflow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_pnet_result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_scan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Surface'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataFormat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HCP</span> <span class="pre">Surface</span> <span class="pre">(*.cifti,</span> <span class="pre">*.mat)'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_subject_ID</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_subject_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_group_ID</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_Brain_Template</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">templateFormat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HCP'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_surfL</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_surfR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_maskL</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_maskR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_mask_vol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_overlayImage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maskValue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_surfL_inflated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_surfR_inflated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SR-NMF'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">17</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'random'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampleSize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Automatic'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nBS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nTPoints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">99999</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Combine_Scan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_gFN</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">FN_model_parameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Computation_Mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'CPU_Torch'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N_Thread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataPrecision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'double'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputFormat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Both'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synchronized_view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synchronized_colorbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pnet/Workflow/Workflow_Func.html#workflow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pnet.Workflow.Workflow_Func.workflow" title="Link to this definition"></a></dt>
<dd><p>Run the workflow of pNet, including Data Input, FN Computation, Quality Control and Visualization
This function is for running pNet in a single job</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir_pnet_result</strong> – directory of the pNet result folder</p></li>
<li><p><strong>dataType</strong> – ‘Surface’, ‘Volume’, ‘Surface-Volume’</p></li>
<li><p><strong>dataFormat</strong> – ‘HCP Surface (<em>.cifti, *.mat)’, ‘MGH Surface (</em>.mgh)’, ‘MGZ Surface (<em>.mgz)’, ‘Volume (</em>.nii, <em>.nii.gz, *.mat)’, ‘HCP Surface-Volume (</em>.cifti)’, ‘HCP Volume (<a href="#id1"><span class="problematic" id="id2">*</span></a>.cifti)’</p></li>
<li><p><strong>file_scan</strong> – a txt file that stores directories of all fMRI scans</p></li>
<li><p><strong>file_subject_ID</strong> – a txt file that store subject ID information corresponding to fMRI scan in file_scan</p></li>
<li><p><strong>file_subject_folder</strong> – a txt file that store subject folder names corresponding to fMRI scans in file_scan</p></li>
<li><p><strong>file_group_ID</strong> – a txt file that store group information corresponding to fMRI scan in file_scan</p></li>
<li><p><strong>file_Brain_Template</strong> – file directory of a brain template file in json format</p></li>
<li><p><strong>templateFormat</strong> – ‘HCP’, ‘FreeSurfer’, ‘3D Matrix’</p></li>
<li><p><strong>file_surfL</strong> – file that stores the surface shape information of the left hemisphere, including vertices and faces</p></li>
<li><p><strong>file_surfR</strong> – file that stores the surface shape information of the right hemisphere, including vertices and faces</p></li>
<li><p><strong>file_maskL</strong> – file that stores the mask information of the left hemisphere, a 1D 0-1 vector</p></li>
<li><p><strong>file_maskR</strong> – file that stores the mask information of the right hemisphere, a 1D 0-1 vector</p></li>
<li><p><strong>file_surfL_inflated</strong> – file that stores the inflated surface shape information of the left hemisphere, including vertices and faces</p></li>
<li><p><strong>file_surfR_inflated</strong> – file that stores the inflated surface shape information of the right hemisphere, including vertices and faces</p></li>
<li><p><strong>file_mask_vol</strong> – file of a mask file for volume-based data type</p></li>
<li><p><strong>file_overlayImage</strong> – file of a background image for visualizing volume-based results</p></li>
<li><p><strong>maskValue</strong> – 0 or 1, 0 means 0s in mask files are useful vertices, otherwise vice versa. maskValue=0 for medial wall in HCP data, and maskValue=1 for brain masks</p></li>
<li><p><strong>method</strong> – ‘SR-NMF’ or ‘GIG-ICA’</p></li>
<li><p><strong>K</strong> – number of FNs</p></li>
<li><p><strong>Combine_Scan</strong> – False or True, whether to combine multiple scans for the same subject</p></li>
<li><p><strong>file_gFN</strong> – None or a directory of a precomputed gFN in .mat format</p></li>
<li><p><strong>FN_model_parameter</strong> – advanced parameters for FN models ‘SR-NMF’, ‘GIG-ICA’. Default is set to None, otherwise a dict. Details are in setup_SR_NMF and setup_GIG_ICA</p></li>
<li><p><strong>init</strong> – ‘nndsvda’: NNDSVD with zeros filled with the average of X (better when sparsity is not desired)  #updated on 08/03/2024
‘random’: non-negative random matrices, scaled with: sqrt(X.mean() / n_components)
‘nndsvd’: Nonnegative Double Singular Value Decomposition (NNDSVD) initialization (better for sparseness)
‘nndsvdar’ NNDSVD with zeros filled with small random values (generally faster, less accurate alternative to NNDSVDa for when sparsity is not desired)</p></li>
<li><p><strong>Parallel</strong> – False or True, whether to enable parallel computation</p></li>
<li><p><strong>Computation_Mode</strong> – ‘CPU_Numpy’, ‘CPU_Torch’</p></li>
<li><p><strong>N_Thread</strong> – positive integers, used for parallel computation</p></li>
<li><p><strong>dataPrecision</strong> – ‘double’ or ‘single’</p></li>
<li><p><strong>outputFormat</strong> – ‘MAT’, ‘Both’, ‘MAT’ is to save results in FN.mat and TC.mat for functional networks and time courses respectively. ‘Both’ is for both matlab format and fMRI input file format</p></li>
<li><p><strong>synchronized_view</strong> – True or False, whether to synchronize view centers for volume data between gFNs and pFNs</p></li>
<li><p><strong>synchronized_colorbar</strong> – True or False, whether to synchronize color bar between gFNs and pFNs</p></li>
</ul>
</dd>
</dl>
<p>Yuncong Ma, 2/8/2024</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pnet.Workflow.Workflow_Func.workflow_cluster">
<span class="sig-prename descclassname"><span class="pre">pnet.Workflow.Workflow_Func.</span></span><span class="sig-name descname"><span class="pre">workflow_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_pnet_result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_scan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Surface'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataFormat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HCP</span> <span class="pre">Surface</span> <span class="pre">(*.cifti,</span> <span class="pre">*.mat)'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_subject_ID</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_subject_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_group_ID</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_Brain_Template</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">templateFormat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HCP'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_surfL</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_surfR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_maskL</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_maskR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_mask_vol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_overlayImage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maskValue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_surfL_inflated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_surfR_inflated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SR-NMF'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">17</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'random'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampleSize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Automatic'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nBS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nTPoints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">99999</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Combine_Scan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_gFN</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">FN_model_parameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputFormat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Both'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Computation_Mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'CPU_Torch'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataPrecision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'double'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synchronized_view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synchronized_colorbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_pnet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_env</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_python</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_command</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'qsub</span> <span class="pre">-terse</span> <span class="pre">-j</span> <span class="pre">y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thread_command</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-pe</span> <span class="pre">threaded</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_command</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-l</span> <span class="pre">h_vmem='</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_command</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-o</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">computation_resource</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'memory_bootstrap':</span> <span class="pre">'50G',</span> <span class="pre">'memory_fusion':</span> <span class="pre">'10G',</span> <span class="pre">'memory_pFN':</span> <span class="pre">'10G',</span> <span class="pre">'memory_qc':</span> <span class="pre">'10G',</span> <span class="pre">'memory_visualization':</span> <span class="pre">'20G',</span> <span class="pre">'thread_bootstrap':</span> <span class="pre">4,</span> <span class="pre">'thread_fusion':</span> <span class="pre">4,</span> <span class="pre">'thread_pFN':</span> <span class="pre">1,</span> <span class="pre">'thread_qc':</span> <span class="pre">1,</span> <span class="pre">'thread_visualization':</span> <span class="pre">1}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pnet/Workflow/Workflow_Func.html#workflow_cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pnet.Workflow.Workflow_Func.workflow_cluster" title="Link to this definition"></a></dt>
<dd><p>Run the workflow of pNet, including Data Input, FN Computation, Quality Control and Visualization
This function is for running pNet using multiple jobs to facilitate computation in a cluster environment
This script can be re-run to restart the desired workflow from where it stops</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir_pnet_result</strong> – directory of the pNet result folder</p></li>
<li><p><strong>dataType</strong> – ‘Surface’, ‘Volume’, ‘Surface-Volume’</p></li>
<li><p><strong>dataFormat</strong> – ‘HCP Surface (<em>.cifti, *.mat)’, ‘MGH Surface (</em>.mgh)’, ‘MGZ Surface (<em>.mgz)’, ‘Volume (</em>.nii, <em>.nii.gz, *.mat)’, ‘HCP Surface-Volume (</em>.cifti)’, ‘HCP Volume (<a href="#id3"><span class="problematic" id="id4">*</span></a>.cifti)’</p></li>
<li><p><strong>file_scan</strong> – a txt file that stores directories of all fMRI scans</p></li>
<li><p><strong>file_subject_ID</strong> – a txt file that store subject ID information corresponding to fMRI scan in file_scan</p></li>
<li><p><strong>file_subject_folder</strong> – a txt file that store subject folder names corresponding to fMRI scans in file_scan</p></li>
<li><p><strong>file_group_ID</strong> – a txt file that store group information corresponding to fMRI scan in file_scan</p></li>
<li><p><strong>file_Brain_Template</strong> – file directory of a brain template file in json format</p></li>
<li><p><strong>templateFormat</strong> – ‘HCP’, ‘FreeSurfer’, ‘3D Matrix’</p></li>
<li><p><strong>file_surfL</strong> – file that stores the surface shape information of the left hemisphere, including vertices and faces</p></li>
<li><p><strong>file_surfR</strong> – file that stores the surface shape information of the right hemisphere, including vertices and faces</p></li>
<li><p><strong>file_maskL</strong> – file that stores the mask information of the left hemisphere, a 1D 0-1 vector</p></li>
<li><p><strong>file_maskR</strong> – file that stores the mask information of the right hemisphere, a 1D 0-1 vector</p></li>
<li><p><strong>file_surfL_inflated</strong> – file that stores the inflated surface shape information of the left hemisphere, including vertices and faces</p></li>
<li><p><strong>file_surfR_inflated</strong> – file that stores the inflated surface shape information of the right hemisphere, including vertices and faces</p></li>
<li><p><strong>file_mask_vol</strong> – file of a mask file for volume-based data type</p></li>
<li><p><strong>file_overlayImage</strong> – file of a background image for visualizing volume-based results</p></li>
<li><p><strong>maskValue</strong> – 0 or 1, 0 means 0s in mask files are useful vertices, otherwise vice versa. maskValue=0 for medial wall in HCP data, and maskValue=1 for brain masks</p></li>
<li><p><strong>K</strong> – number of FNs</p></li>
<li><p><strong>Combine_Scan</strong> – False or True, whether to combine multiple scans for the same subject</p></li>
<li><p><strong>file_gFN</strong> – None or a directory of a precomputed gFN in .mat format</p></li>
<li><p><strong>method</strong> – ‘SR-NMF’ or ‘GIG-ICA’</p></li>
<li><p><strong>FN_model_parameter</strong> – advanced parameters for FN models ‘SR-NMF’, ‘GIG-ICA’. Default is set to None, otherwise a dict. Details are in setup_SR_NMF and setup_GIG_ICA</p></li>
<li><p><strong>outputFormat</strong> – ‘MAT’, ‘Both’, ‘MAT’ is to save results in FN.mat and TC.mat for functional networks and time courses respectively. ‘Both’ is for both matlab format and fMRI input file format</p></li>
<li><p><strong>Computation_Mode</strong> – ‘CPU_Numpy’, ‘CPU_Torch’</p></li>
<li><p><strong>dataPrecision</strong> – ‘double’ or ‘single’</p></li>
<li><p><strong>synchronized_view</strong> – True or False, whether to synchronize view centers for volume data between gFNs and pFNs</p></li>
<li><p><strong>synchronized_colorbar</strong> – True or False, whether to synchronize color bar between gFNs and pFNs</p></li>
<li><p><strong>dir_pnet</strong> – directory of the pNet toolbox</p></li>
<li><p><strong>dir_env</strong> – directory of the desired virtual environment</p></li>
<li><p><strong>dir_python</strong> – absolute directory to the python folder, ex. /Users/YuncongMa/.conda/envs/pnet/bin/python</p></li>
<li><p><strong>submit_command</strong> – command to submit a cluster job</p></li>
<li><p><strong>thread_command</strong> – command to setup number of threads for each job</p></li>
<li><p><strong>memory_command</strong> – command to setup memory allowance for each job</p></li>
<li><p><strong>log_command</strong> – command to specify the logfile</p></li>
<li><p><strong>computation_resource</strong> – a dict to specify the number of threads and memory allowance for jobs in each predefined step</p></li>
</ul>
</dd>
</dl>
<p>Yuncong Ma, 2/12/2024</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pnet.Workflow.Workflow_Func.workflow_guide">
<span class="sig-prename descclassname"><span class="pre">pnet.Workflow.Workflow_Func.</span></span><span class="sig-name descname"><span class="pre">workflow_guide</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pnet/Workflow/Workflow_Func.html#workflow_guide"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pnet.Workflow.Workflow_Func.workflow_guide" title="Link to this definition"></a></dt>
<dd><p>This is a step-by-step guidance for configuring a workflow of pNet in command line
It will generate a Python script to run the desired workflow with comments
Yuncong Ma, 2/5/2024</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pnet.Workflow.Workflow_Func.workflow_simple">
<span class="sig-prename descclassname"><span class="pre">pnet.Workflow.Workflow_Func.</span></span><span class="sig-name descname"><span class="pre">workflow_simple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_pnet_result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataType</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataFormat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_scan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_Brain_Template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SR-NMF'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">17</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'random'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampleSize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Automatic'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nBS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nTPoints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">99999</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Combine_Scan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_gFN</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pnet/Workflow/Workflow_Func.html#workflow_simple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pnet.Workflow.Workflow_Func.workflow_simple" title="Link to this definition"></a></dt>
<dd><p>Run the workflow of pNet, including Data Input, FN Computation, Quality Control and Visualization
This is a minimal version of run_workflow for fast deployment using a single job</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir_pnet_result</strong> – directory of the pNet result folder</p></li>
<li><p><strong>dataType</strong> – ‘Surface’, ‘Volume’</p></li>
<li><p><strong>dataFormat</strong> – ‘HCP Surface (<em>.cifti, *.mat)’, ‘MGH Surface (</em>.mgh)’, ‘MGZ Surface (<em>.mgz)’, ‘Volume (</em>.nii, <em>.nii.gz, *.mat)’, ‘HCP Surface-Volume (</em>.cifti)’, ‘HCP Volume (<a href="#id5"><span class="problematic" id="id6">*</span></a>.cifti)’</p></li>
<li><p><strong>file_scan</strong> – a txt file that stores directories of all fMRI scans</p></li>
<li><p><strong>file_Brain_Template</strong> – file directory or content of a brain template file in json format</p></li>
<li><p><strong>method</strong> – ‘SR-NMF’ or ‘GIG-ICA’</p></li>
<li><p><strong>K</strong> – number of FNs</p></li>
<li><p><strong>Combine_Scan</strong> – False or True, whether to combine multiple scans for the same subject</p></li>
<li><p><strong>file_gFN</strong> – directory of a precomputed gFN in .mat format</p></li>
</ul>
</dd>
</dl>
<p>Yuncong Ma, 2/8/2024</p>
</dd></dl>

</section>
<section id="pnet-workflow-workflow-guide-module">
<h2>pnet.Workflow.Workflow_guide module<a class="headerlink" href="#pnet-workflow-workflow-guide-module" title="Link to this heading"></a></h2>
</section>
<section id="module-pnet.Workflow">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pnet.Workflow" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pnet.Report.html" class="btn btn-neutral float-left" title="pnet.Report package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="auto_examples/index.html" class="btn btn-neutral float-right" title="Tutorials and Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, pNet developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>